import{b as I}from"./chunk-22MFMSVG.js";import{c as w,d as h,e as N,f as E,h as s,j as C,l as F,m as U,r as P}from"./chunk-IAJIG4OQ.js";import{Ab as x,Da as u,Fa as l,Ja as c,Oa as f,Ta as p,cc as v,ec as S,gb as m,hb as t,ib as e,jb as n,nb as b,ob as g,xb as i,yb as y}from"./chunk-WBYVMQEE.js";import"./chunk-C6Q5SG76.js";function _(a,r){if(a&1&&(t(0,"div",15),n(1,"img",16),t(2,"div")(3,"p",17),i(4),e(),t(5,"p",18),i(6),e()()()),a&2){let o=g();l(),m("src",o.currentUser.photoUrl||"assets/default-avatar.png",u),l(3),x("",o.currentUser.firstName||""," ",o.currentUser.lastName||""),l(2),y(o.currentUser.email)}}var k=class a{constructor(r){this.authService=r}profileForm=new E({firstName:new s(""),lastName:new s(""),email:new s({value:"",disabled:!0}),bio:new s("")});currentUser=null;authStateSubscription;ngOnInit(){this.authStateSubscription=this.authService.authState.subscribe(r=>{this.currentUser=r,r&&this.profileForm.patchValue({firstName:r.firstName||"",lastName:r.lastName||"",email:r.email||""})})}ngOnDestroy(){this.authStateSubscription&&this.authStateSubscription.unsubscribe()}onSubmit(){this.profileForm.valid?(console.log("Donn\xE9es du profil \xE0 enregistrer :",this.profileForm.value),alert("Profil mis \xE0 jour !")):alert("Veuillez corriger les erreurs du formulaire.")}static \u0275fac=function(o){return new(o||a)(c(I))};static \u0275cmp=f({type:a,selectors:[["app-profile-settings"]],decls:27,vars:3,consts:[[1,"container","mx-auto","p-6","max-w-2xl","bg-white","text-black","rounded-lg","shadow-xl","mt-10"],[1,"text-3xl","font-bold","mb-6","text-center","text-yellow-600"],["class","mb-8 flex items-center justify-center",4,"ngIf"],[1,"space-y-6",3,"ngSubmit","formGroup"],["for","firstName",1,"block","text-sm","font-medium","text-gray-700","mb-1"],["id","firstName","type","text","formControlName","firstName",1,"mt-1","block","w-full","px-4","py-2","bg-gray-100","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-yellow-500","focus:border-yellow-500","text-gray-800"],["for","lastName",1,"block","text-sm","font-medium","text-gray-700","mb-1"],["id","lastName","type","text","formControlName","lastName",1,"mt-1","block","w-full","px-4","py-2","bg-gray-100","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-yellow-500","focus:border-yellow-500","text-gray-800"],["for","email",1,"block","text-sm","font-medium","text-gray-700","mb-1"],["id","email","type","email","formControlName","email","readonly","",1,"mt-1","block","w-full","px-4","py-2","bg-gray-200","border","border-gray-300","rounded-md","shadow-sm","cursor-not-allowed","text-gray-500"],["for","bio",1,"block","text-sm","font-medium","text-gray-700","mb-1"],["id","bio","formControlName","bio","rows","4","placeholder","Parlez-nous un peu de vous...",1,"mt-1","block","w-full","px-4","py-2","bg-gray-100","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-yellow-500","focus:border-yellow-500","text-gray-800","resize-y"],[1,"text-center"],["type","submit",1,"w-full","md:w-auto","px-6","py-3","bg-yellow-600","text-white","font-semibold","rounded-md","shadow-lg","hover:bg-yellow-700","focus:outline-none","focus:ring-2","focus:ring-yellow-500","focus:ring-opacity-75","disabled:opacity-50","disabled:cursor-not-allowed","transition","duration-150","ease-in-out",3,"disabled"],[1,"mt-8","text-center","text-gray-600","text-sm"],[1,"mb-8","flex","items-center","justify-center"],["alt","Avatar utilisateur",1,"w-24","h-24","rounded-full","border-4","border-yellow-500","object-cover","mr-4",3,"src"],[1,"text-xl","font-semibold"],[1,"text-gray-600"]],template:function(o,d){o&1&&(t(0,"div",0)(1,"h1",1),i(2,"Param\xE8tres du Compte"),e(),p(3,_,7,4,"div",2),t(4,"form",3),b("ngSubmit",function(){return d.onSubmit()}),t(5,"div")(6,"label",4),i(7,"Pr\xE9nom"),e(),n(8,"input",5),e(),t(9,"div")(10,"label",6),i(11,"Nom de famille"),e(),n(12,"input",7),e(),t(13,"div")(14,"label",8),i(15,"Email (non modifiable)"),e(),n(16,"input",9),e(),t(17,"div")(18,"label",10),i(19,"\xC0 propos de moi"),e(),n(20,"textarea",11),e(),t(21,"div",12)(22,"button",13),i(23," Enregistrer les modifications "),e()()(),t(24,"div",14)(25,"p"),i(26,"Pour modifier votre photo de profil, veuillez le faire directement via votre compte Google."),e()()()),o&2&&(l(3),m("ngIf",d.currentUser),l(),m("formGroup",d.profileForm),l(18),m("disabled",!d.profileForm.valid))},dependencies:[S,v,P,C,w,h,N,F,U],encapsulation:2})};export{k as ProfileSettings};
